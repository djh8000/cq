<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width,initial-scale=1.0,minimum-scale=1.0,maximum-scale=1.0,user-scalable=no" />
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Document</title>
    <link rel="stylesheet" href="./style.css">
    <script src="https://cdn.bootcss.com/jquery/3.3.1/jquery.min.js"></script>
    <script src="./game.js"></script>
</head>
<body>
    <div id="mainBody">
        <div id="wrap">
            <div id="left">
                <ul>
                <li>
                选择图片：<select id="sel_img">
                <option value="1" selected="selected">默认拼图</option>
                <option value="2">塞尔达</option>
                <option value="3">宋祖儿</option>
                </select>
                </li>
                    <li id="start">
                        开始游戏:<span>开始</span>
                    </li>
                    <li id="level">
                        难度选择:<span>3x3</span>
                    </li>		
                </ul>
            </div>
            <div id="right">
                <div id="imgArea"></div>
            </div>
        </div>
    </div>

    <script>
        var startY,endY;
        //记录手指触摸的起点坐标
        $('body').on('touchstart',function (e) {
            startY = e.touches[0].pageY;
        });
        $('body').on('touchmove',function (e) {
            endY = e.touches[0].pageY;  //记录手指触摸的移动中的坐标
            //手指下滑，页面到达顶端不能继续下滑
            if(endY>startY&& $(window).scrollTop()<=0){
                e.preventDefault();
            }
        //手指上滑，页面到达底部能继续上滑
            if(endY<startY&& $(window).scrollTop()+ 
                $(window).height()>=$('body')[0].scrollHeight){
                e.preventDefault();
            }
        })
        /* 加入图片，运行代码 */
        $(function(){
            $("#sel_img").change(function(){
                var imgval=$("#sel_img").val();
                var imgpath='./img' + imgval + '.jpg';
                var st = new puzzleGame({'img':imgpath})
                st.btnStart.text('开始');
                st.btnLevel.text('3x3');
            });
        });
        var pg = new puzzleGame({'img':'./img2.jpg'});            
    </script>
</body>
</html>